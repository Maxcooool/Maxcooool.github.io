<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>《来临》</title>
    <link href="/2022/10/08/%E3%80%8A%E6%9D%A5%E4%B8%B4%E3%80%8B/"/>
    <url>/2022/10/08/%E3%80%8A%E6%9D%A5%E4%B8%B4%E3%80%8B/</url>
    
    <content type="html"><![CDATA[<blockquote><p>@消失预告</p></blockquote><span id="more"></span><br><p>我把一切都交给你<br>时间，梦想<br>灾祸，命运<br>一场颜色的革命</p><p>白的是云<br>黑的是夜<br>有多少个清晨<br>乌鸦学语，青蛇吐信<br>群山低咛</p><p>我把一切都交给你<br>当风记起它的形状<br>雨认出它的足迹<br>当这一切来临</p>]]></content>
    
    
    <categories>
      
      <category>Poem</category>
      
    </categories>
    
    
    <tags>
      
      <tag>poem</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>《敌情》</title>
    <link href="/2021/12/24/%E3%80%8A%E6%95%8C%E6%83%85%E3%80%8B/"/>
    <url>/2021/12/24/%E3%80%8A%E6%95%8C%E6%83%85%E3%80%8B/</url>
    
    <content type="html"><![CDATA[<blockquote><p>@消失预告</p></blockquote><span id="more"></span><br><p>我是天生的斥候<br>对于爱情<br>从不主动出击</p><p>我要把消息带给心脏<br>它在猛烈的跳动后<br>趋于平静</p><p>真我已死——<br>当我看着你<br>看着你太阳般照射的眼睛</p>]]></content>
    
    
    <categories>
      
      <category>Poem</category>
      
    </categories>
    
    
    <tags>
      
      <tag>poem</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>关于vite自动压缩图片的问题</title>
    <link href="/2021/08/19/%E5%85%B3%E4%BA%8Evite%E8%87%AA%E5%8A%A8%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <url>/2021/08/19/%E5%85%B3%E4%BA%8Evite%E8%87%AA%E5%8A%A8%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;在使用 <code>vben</code> 后台系统的时候，发现打包后的登录页大图十分模糊！<span id="more"></span>显然是 <code>vite</code> 打包时进行了压缩操作，进一步发现原来是 <code>imagemin</code> 插件在作祟，前往根目录下<code>build\vite\plugin</code>路径修改配置，实现图片不被压缩！</p><p>&emsp;&emsp;在 <code>vben</code> 源码中已给出 <code>imagemin</code> 文档链接：<a href="https://github.com/anncwb/vite-plugin-imagemin">https://github.com/anncwb/vite-plugin-imagemin</a> ，配置如下：</p><table><thead><tr><th>params</th><th>type</th><th>default</th><th>default</th></tr></thead><tbody><tr><td>verbose</td><td><code>boolean</code></td><td><code>true</code></td><td>Whether to output the compressed result in the console</td></tr><tr><td>filter</td><td><code>RegExp or (file: string) =&gt; boolean</code></td><td>-</td><td>Specify which resources are not compressed</td></tr><tr><td>disable</td><td><code>boolean</code></td><td><code>false</code></td><td>Whether to disable</td></tr><tr><td>svgo</td><td><code>object</code> or <code>false</code></td><td>-</td><td>See <a href="https://github.com/svg/svgo/#what-it-can-do">Options</a></td></tr><tr><td>gifsicle</td><td><code>object</code> or <code>false</code></td><td>-</td><td>See <a href="https://github.com/imagemin/imagemin-gifsicle">Options</a></td></tr><tr><td>mozjpeg</td><td><code>object</code> or <code>false</code></td><td>-</td><td>See <a href="https://github.com/imagemin/imagemin-mozjpeg">Options</a></td></tr><tr><td>optipng</td><td><code>object</code> or <code>false</code></td><td>-</td><td>See <a href="https://github.com/imagemin/imagemin-optipng">Options</a></td></tr><tr><td>pngquant</td><td><code>object</code> or <code>false</code></td><td>-</td><td>See <a href="https://github.com/imagemin/imagemin-pngquant">Options</a></td></tr><tr><td>webp</td><td><code>object</code> or <code>false</code></td><td>-</td><td>See <a href="https://github.com/imagemin/imagemin-webp">Options</a></td></tr></tbody></table><p>&emsp;&emsp;我们需要关注的是 filter 属性，它允许我们定义文件是否被压缩。<br>于是有以下代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> viteImagemin <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vite-plugin-imagemin&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configImageminPlugin</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">const</span> plugin = viteImagemin(&#123;<br>    <span class="hljs-attr">gifsicle</span>: &#123;<br>      <span class="hljs-attr">optimizationLevel</span>: <span class="hljs-number">7</span>,<br>      <span class="hljs-attr">interlaced</span>: <span class="hljs-literal">false</span>,<br>    &#125;,<br>    <span class="hljs-attr">optipng</span>: &#123;<br>      <span class="hljs-attr">optimizationLevel</span>: <span class="hljs-number">7</span>,<br>    &#125;,<br>    <span class="hljs-attr">mozjpeg</span>: &#123;<br>      <span class="hljs-attr">quality</span>: <span class="hljs-number">8</span>,<br>    &#125;,<br>    <span class="hljs-attr">pngquant</span>: &#123;<br>      <span class="hljs-attr">quality</span>: [<span class="hljs-number">0.8</span>, <span class="hljs-number">0.9</span>],<br>      <span class="hljs-attr">speed</span>: <span class="hljs-number">4</span>,<br>    &#125;,<br>    <span class="hljs-attr">svgo</span>: &#123;<br>      <span class="hljs-attr">plugins</span>: [<br>        &#123;<br>          <span class="hljs-attr">removeViewBox</span>: <span class="hljs-literal">false</span>,<br>        &#125;,<br>        &#123;<br>          <span class="hljs-attr">removeEmptyAttrs</span>: <span class="hljs-literal">false</span>,<br>        &#125;,<br>      ],<br>    &#125;,<br>    <span class="hljs-comment">// 自定义不被压缩的文件</span><br>    <span class="hljs-attr">filter</span>: <span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> [<span class="hljs-string">&quot;login_pv.jpg&quot;</span>, <span class="hljs-string">&quot;login_bg.jpg&quot;</span>].indexOf(file) &gt; -<span class="hljs-number">1</span>;<br>    &#125;,<br>  &#125;);<br>  <span class="hljs-keyword">return</span> plugin;<br>&#125;<br></code></pre></td></tr></table></figure><p>以上！</p>]]></content>
    
    
    <categories>
      
      <category>Vue3</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vite</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo-valine评论系统</title>
    <link href="/2021/07/16/Hexo-valine%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/"/>
    <url>/2021/07/16/Hexo-valine%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/</url>
    
    <content type="html"><![CDATA[<p>有朋友私信我说需要一个评论区，需求堪比白云的《月子2》！</p><span id="more"></span><h4 id="注册LeanCloud"><a href="#注册LeanCloud" class="headerlink" title="注册LeanCloud"></a>注册LeanCloud</h4><p>Valine的评论数据都储存在Leancloud上，所以我们要去<a href="https://www.leancloud.cn/"> leancloud官网</a> 注册一个账户，并完成实名认证。</p><h4 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用"></a>创建应用</h4><p><img src="https://hexo-maxcool.oss-cn-shanghai.aliyuncs.com/img/article_content/leancloud00.png"></p><p>开发版是虽然免费的，但是api调用量足够用了。</p><p><img src="https://hexo-maxcool.oss-cn-shanghai.aliyuncs.com/img/article_content/leancloud01.png" alt="计费规则"></p><h4 id="核心数据"><a href="#核心数据" class="headerlink" title="核心数据"></a>核心数据</h4><p>我们需要 AppID 和 AppKey</p><p><img src="https://hexo-maxcool.oss-cn-shanghai.aliyuncs.com/img/article_content/leancloud03.png"></p><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>hexo 根目录下 _config.fluid.yml 中配置以下代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># 开启评论需要先设置 `post: comments: enable: true`，然后根据 `type` 设置插件参数</span><br><span class="hljs-attr">post:</span><br>  <span class="hljs-attr">comments:</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">valine</span><br><span class="hljs-comment"># Valine 插件</span><br><span class="hljs-attr">valine:</span><br>  <span class="hljs-comment">#AppID</span><br>  <span class="hljs-attr">appId:</span> <span class="hljs-string">m72xxxxxxxxxx-xxxxxxxxxoHsz</span><br>  <span class="hljs-comment">#AppKey</span><br>  <span class="hljs-attr">appKey:</span> <span class="hljs-string">6muIxxxxxxxxxxxxgLU</span><br>  <span class="hljs-attr">placeholder:</span> <span class="hljs-string">说点什么...</span><br>  <span class="hljs-attr">path:</span> <span class="hljs-string">window.location.pathname</span><br>  <span class="hljs-attr">avatar:</span> <span class="hljs-string">retro</span><br>  <span class="hljs-attr">meta:</span> [<span class="hljs-string">&#x27;nick&#x27;</span>]<br>  <span class="hljs-attr">pageSize:</span> <span class="hljs-number">10</span><br>  <span class="hljs-attr">lang:</span> <span class="hljs-string">zh-CN</span><br>  <span class="hljs-attr">highlight:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">recordIP:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">serverURLs:</span> <span class="hljs-string">&#x27;&#x27;</span><br>  <span class="hljs-attr">emojiCDN:</span> <br>  <span class="hljs-attr">emojiMaps:</span><br>  <span class="hljs-attr">enableQQ:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">requiredFields:</span> []<br></code></pre></td></tr></table></figure><p>之后分别执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs git">$ hexo clean<br>$ hexo d -g<br></code></pre></td></tr></table></figure><p>即可部署！</p><h4 id="管理评论"><a href="#管理评论" class="headerlink" title="管理评论"></a>管理评论</h4><p>在 LeanCloud 数据存储——结构化数据中可以对评论内容进行管理</p><p><img src="https://hexo-maxcool.oss-cn-shanghai.aliyuncs.com/img/article_content/leancloud05.png"></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo-fluid主题添加百度统计</title>
    <link href="/2021/07/16/Hexo-%E6%B7%BB%E5%8A%A0%E7%99%BE%E5%BA%A6%E7%BB%9F%E8%AE%A1/"/>
    <url>/2021/07/16/Hexo-%E6%B7%BB%E5%8A%A0%E7%99%BE%E5%BA%A6%E7%BB%9F%E8%AE%A1/</url>
    
    <content type="html"><![CDATA[<p>为博客添加百度统计，了解网站的访问情况。</p><span id="more"></span><h4 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h4><ul><li>注册一个百度账号，登录<a href="https://tongji.baidu.com/web/welcome/login">百度统计</a></li></ul><h4 id="添加统计"><a href="#添加统计" class="headerlink" title="添加统计"></a>添加统计</h4><p>进入页面，管理——新增网站</p><p><img src="https://hexo-maxcool.oss-cn-shanghai.aliyuncs.com/img/article_content/tj01.png"></p><p>填写好网站信息：</p><p><img src="https://hexo-maxcool.oss-cn-shanghai.aliyuncs.com/img/article_content/tj02.png"></p><p>获取百度统计key：</p><p><img src="https://hexo-maxcool.oss-cn-shanghai.aliyuncs.com/img/article_content/tj03.png"></p><p>在根目录 _config.fluid.yml 文件中添加key即可：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># 网页访问统计</span><br><span class="hljs-attr">web_analytics:</span>  <br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-comment"># 百度统计的 Key，值需要获取下方链接中 `hm.js?` 后边的字符串</span><br>  <span class="hljs-attr">baidu:</span> <span class="hljs-string">9c73abxxxxxxxxxxxxxxxxxx568579</span><br></code></pre></td></tr></table></figure><p><strong>参考</strong>：</p><p><a href="https://www.cnblogs.com/yizhidaozuihou/p/12445923.html">Hexo添加百度统计</a></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>web-view组件视频无法自动播放</title>
    <link href="/2021/07/15/%5B%E5%B7%B2%E8%A7%A3%E5%86%B3%5Dweb-view%E7%BB%84%E4%BB%B6%E8%A7%86%E9%A2%91%E6%97%A0%E6%B3%95%E8%87%AA%E5%8A%A8%E6%92%AD%E6%94%BE/"/>
    <url>/2021/07/15/%5B%E5%B7%B2%E8%A7%A3%E5%86%B3%5Dweb-view%E7%BB%84%E4%BB%B6%E8%A7%86%E9%A2%91%E6%97%A0%E6%B3%95%E8%87%AA%E5%8A%A8%E6%92%AD%E6%94%BE/</url>
    
    <content type="html"><![CDATA[<p>之前在微信小程序中嵌入了H5，今天发现视频在模拟器和网页中正常，但是真机上无法播放的问题。</p><span id="more"></span><p><strong>做过的尝试：</strong></p><ul><li>检查链接是否为https</li><li>是否添加合法域名</li><li>改为本地资源加载</li></ul><p>均以失败告终。</p><p>观察后发现，并不是资源加载问题，真机上视频出现完整进度条，说明加载完毕。经检验，原来是原生video的autoplay属性不被web-view支持，导致视频不能播放的bug。改为调用DOM对象的play() 方法实现!</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-title">mounted</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-built_in">this</span>.videoCtx = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;id_of_video&quot;</span>);<br>    <span class="hljs-comment">// 自动播放</span><br>    <span class="hljs-built_in">this</span>.videoCtx.play();<br> &#125;<br></code></pre></td></tr></table></figure><p>附上移动端video标签的一些属性：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">video</span></span><br><span class="hljs-tag">    <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;video&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">preload</span>=<span class="hljs-string">&quot;auto&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">x-webkit-airplay</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">webkit-playsinline</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">playsinline</span></span><br><span class="hljs-tag">    <span class="hljs-attr">x5-video-player-type</span>=<span class="hljs-string">&quot;h5&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">x5-video-player-fullscreen</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">loop</span></span><br><span class="hljs-tag">    <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../../../public/media/xxxxx.mp4&quot;</span></span><br><span class="hljs-tag">&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>WeChat</category>
      
    </categories>
    
    
    <tags>
      
      <tag>miniapp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>H5页面禁用向下滑动</title>
    <link href="/2021/07/15/H5%E9%A1%B5%E9%9D%A2%E7%A6%81%E7%94%A8%E5%90%91%E4%B8%8B%E6%BB%91%E5%8A%A8/"/>
    <url>/2021/07/15/H5%E9%A1%B5%E9%9D%A2%E7%A6%81%E7%94%A8%E5%90%91%E4%B8%8B%E6%BB%91%E5%8A%A8/</url>
    
    <content type="html"><![CDATA[<p>H5页面真机演示时，发现页面可以向下滑动，可以通过CSS属性禁用，代码如下：</p><span id="more"></span><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css">// 禁用页面滑动<br><span class="hljs-attribute">pointer-events</span>: auto;<br>touch-action: none;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>CSS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>css</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>《招魂歌》</title>
    <link href="/2021/07/14/%E3%80%8A%E6%8B%9B%E9%AD%82%E6%AD%8C%E3%80%8B/"/>
    <url>/2021/07/14/%E3%80%8A%E6%8B%9B%E9%AD%82%E6%AD%8C%E3%80%8B/</url>
    
    <content type="html"><![CDATA[<blockquote><p>行吟者&emsp;刘年</p></blockquote><span id="more"></span><br><p>把弓还给琴，把火药还给烟花<br>把刀还给鞘，把手还给手，把儿子还给妈妈 </p><p>把鹰还给天，把花还给树枝<br>把魔鬼还给地狱，把诸神还给人世<br>把丈夫还给妻子 </p><p>把肉还给白骨，把魂还给肉身，把父亲还给女儿 </p>]]></content>
    
    
    <categories>
      
      <category>Poem</category>
      
    </categories>
    
    
    <tags>
      
      <tag>poem</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>《炸裂志》</title>
    <link href="/2021/07/13/%E3%80%8A%E7%82%B8%E8%A3%82%E5%BF%97%E3%80%8B/"/>
    <url>/2021/07/13/%E3%80%8A%E7%82%B8%E8%A3%82%E5%BF%97%E3%80%8B/</url>
    
    <content type="html"><![CDATA[<blockquote><p>作者：陈年喜</p></blockquote><span id="more"></span><br><p>早晨起来&emsp;头像炸裂一样疼<br>这是大机器的额外馈赠<br>不是钢铁的错<br>是神经老了&emsp;脆弱不堪</p><p>我不大敢看自己的生活<br>它坚硬&emsp;铉黑<br>有风镐的锐角<br>石头碰一碰&emsp;就会流血</p><p>我在五千米深处打发中年<br>我把岩层一次次炸裂<br>借此&emsp;把一生重新组合</p><p>我微小的亲人&emsp;远在商山脚下<br>他们有病&emsp;身体落满灰尘<br>我的中年裁下多少<br>他们的晚年就能延长多少</p><p>我身体里有炸药三吨<br>他们是引信部分<br>就在昨夜&emsp;在他们床前<br>我岩石一样&emsp;炸裂一地</p>]]></content>
    
    
    <categories>
      
      <category>Poem</category>
      
    </categories>
    
    
    <tags>
      
      <tag>poem</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>《只有一场大雪完成身体的睡眠》</title>
    <link href="/2021/07/13/%E3%80%8A%E5%8F%AA%E6%9C%89%E4%B8%80%E5%9C%BA%E5%A4%A7%E9%9B%AA%E5%AE%8C%E6%88%90%E8%BA%AB%E4%BD%93%E7%9A%84%E7%9D%A1%E7%9C%A0%E3%80%8B%E9%99%88%E5%B9%B4%E5%96%9C/"/>
    <url>/2021/07/13/%E3%80%8A%E5%8F%AA%E6%9C%89%E4%B8%80%E5%9C%BA%E5%A4%A7%E9%9B%AA%E5%AE%8C%E6%88%90%E8%BA%AB%E4%BD%93%E7%9A%84%E7%9D%A1%E7%9C%A0%E3%80%8B%E9%99%88%E5%B9%B4%E5%96%9C/</url>
    
    <content type="html"><![CDATA[<blockquote><p>作者：陈年喜</p></blockquote><span id="more"></span><br><p>整整三个年头了<br>从不曾有过一日早息<br>九点上床&emsp;零点熄灯<br>凌晨三点身体铺平<br>一场接一场的噩梦<br>又将它一再卷起</p><p>落在一个人身体里的雪<br>从来不被别的身体看见<br>有一年在秦岭深处<br>一场大雪从山顶落下<br>落满我的骨头<br>从此&emsp;再也没有融化</p><p>在这个睡眠已死的年代<br>只有一场大雪<br>完成身体的睡眠<br>崭新的故人<br>给我们捎来乌鸦的口信<br>而口信的内容<br>一百场消逝的大雪也无力公开</p>]]></content>
    
    
    <categories>
      
      <category>Poem</category>
      
    </categories>
    
    
    <tags>
      
      <tag>poem</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>微信小程序嵌入H5页面</title>
    <link href="/2021/07/13/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%B5%8C%E5%85%A5H5%E9%A1%B5%E9%9D%A2/"/>
    <url>/2021/07/13/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%B5%8C%E5%85%A5H5%E9%A1%B5%E9%9D%A2/</url>
    
    <content type="html"><![CDATA[<h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>需求：在小程序中嵌入一个H5页面，并提供一个可跳转小程序其他页面的按钮。</p><span id="more"></span><p>主要用到微信小程序的 <code>web-view</code> 组件，详细用法： <a href="https://developers.weixin.qq.com/miniprogram/dev/component/web-view.html">web-view 微信官方文档</a>。<br><img src="https://hexo-maxcool.oss-cn-shanghai.aliyuncs.com/img/article_content/office.png" alt="属性简介"><br>        需要注意的是个人小程序<strong>不支持！</strong> </p><h4 id="1-嵌入H5"><a href="#1-嵌入H5" class="headerlink" title="1. 嵌入H5"></a>1. 嵌入H5</h4><p>当我们写好H5后，可以在小程序页面中通过以下代码嵌入页面，页面会自动铺满，需要做好移动端适配：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;!--pages/test/test.wxml--&gt;<br>&lt;web-view src=<span class="hljs-string">&quot;http://192.168.xx.xxx:8080/#/&quot;</span>&gt;&lt;/web-view&gt;<br></code></pre></td></tr></table></figure><p>上线后，这里的域名需要加入小程序的合法域名中才可嵌入。本地测试时，在小程序本地设置中勾选不校验域名即可！</p><h4 id="2-跳转小程序内页面"><a href="#2-跳转小程序内页面" class="headerlink" title="2. 跳转小程序内页面"></a>2. 跳转小程序内页面</h4><p>需要引入微信SDK，可以直接引入官方提供的CDN：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">http:<span class="hljs-comment">//res.wx.qq.com/open/js/jweixin-1.6.0.js</span><br></code></pre></td></tr></table></figure><p>或使用npm：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">npm install weixin-js-sdk<br></code></pre></td></tr></table></figure><p>在H5页面上中引入：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> wx from <span class="hljs-string">&#x27;weixin-js-sdk&#x27;</span>;<br></code></pre></td></tr></table></figure><p>调用微信开放接口进行页面跳转：<br>tabbar页面：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">wx.miniProgram.switchTab(&#123;<br>     <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;/pages/home/home&quot;</span>,<br>   &#125;);<br></code></pre></td></tr></table></figure><p>非tabbar页面：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">wx.miniProgram.navigateTo(&#123;<br>    <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;/pages/smile/smile&quot;</span>,<br>  &#125;);<br></code></pre></td></tr></table></figure><h4 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h4><p>看了一些资料，发现有跳到其他小程序的需求，目前看到的解决方案就是跳到一个中继页（小程序自身页面），然后通过小程序跳转到其他小程序。<br>以上！</p>]]></content>
    
    
    <categories>
      
      <category>WeChat</category>
      
    </categories>
    
    
    <tags>
      
      <tag>miniapp</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
